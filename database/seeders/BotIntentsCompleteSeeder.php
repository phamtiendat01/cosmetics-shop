<?php

namespace Database\Seeders;

use App\Models\BotIntent;
use Illuminate\Database\Seeder;

/**
 * Seeder Ä‘áº§y Ä‘á»§ cho Intents vá»›i examples vÃ  response templates
 */
class BotIntentsCompleteSeeder extends Seeder
{
    public function run(): void
    {
        $intents = [
            [
                'name' => 'greeting',
                'display_name' => 'ChÃ o há»i',
                'description' => 'KhÃ¡ch hÃ ng chÃ o há»i bot',
                'examples' => [
                    'xin chÃ o',
                    'chÃ o báº¡n',
                    'hello',
                    'hi',
                    'hey',
                    'chÃ o bot',
                    'xin chÃ o bot',
                    'alo',
                    'chÃ o',
                    'chÃ o shop',
                ],
                'priority' => 100,
                'is_active' => true,
                'config' => [
                    'response_template' => "Xin chÃ o! ğŸ‘‹ MÃ¬nh lÃ  CosmeBot, trá»£ lÃ½ tÆ° váº¥n má»¹ pháº©m cá»§a Cosme House.\n\nMÃ¬nh cÃ³ thá»ƒ giÃºp báº¡n:\n- TÃ¬m sáº£n pháº©m phÃ¹ há»£p vá»›i loáº¡i da vÃ  ngÃ¢n sÃ¡ch\n- Tra cá»©u Ä‘Æ¡n hÃ ng\n- Há»i vá» chÃ­nh sÃ¡ch (ship, Ä‘á»•i tráº£, thanh toÃ¡n)\n\nBáº¡n cáº§n mÃ¬nh há»— trá»£ gÃ¬ hÃ´m nay? ğŸ˜Š",
                    'tools' => [],
                    'required_entities' => [],
                    'optional_entities' => [],
                    'follow_up_questions' => [],
                    'confidence_threshold' => 0.7,
                ],
            ],
            [
                'name' => 'product_search',
                'display_name' => 'TÃ¬m kiáº¿m sáº£n pháº©m',
                'description' => 'KhÃ¡ch hÃ ng muá»‘n tÃ¬m kiáº¿m sáº£n pháº©m',
                'examples' => [
                    'tÃ¬m serum cho da dáº§u',
                    'cho mÃ¬nh xem kem dÆ°á»¡ng',
                    'gá»£i Ã½ sáº£n pháº©m chá»‘ng náº¯ng',
                    'mÃ¬nh cáº§n sá»¯a rá»­a máº·t',
                    'tÃ¬m sáº£n pháº©m dÆ°á»›i 500k',
                    'serum nÃ o tá»‘t cho da nháº¡y cáº£m',
                    'tÃ¬m kem dÆ°á»¡ng áº©m',
                    'cho mÃ¬nh xem toner',
                    'tÃ¬m sáº£n pháº©m cho da má»¥n',
                    'gá»£i Ã½ serum vitamin c',
                    'tÃ¬m cleanser cho da dáº§u',
                    'mÃ¬nh muá»‘n mua kem chá»‘ng náº¯ng',
                    'tÃ¬m sáº£n pháº©m trá»‹ thÃ¢m',
                    'cho mÃ¬nh xem máº·t náº¡',
                    'tÃ¬m sáº£n pháº©m dÆ°á»¡ng áº©m',
                    'gá»£i Ã½ sáº£n pháº©m cho da khÃ´',
                    'tÃ¬m essence',
                    'mÃ¬nh cáº§n serum',
                    // Examples phá»©c táº¡p - nhiá»u Ä‘iá»u kiá»‡n
                    'tÃ´i muá»‘n tÃ¬m sáº£n pháº©m sá»¯a rá»­a máº·t cho da dáº§u tÃ i chÃ­nh dÆ°á»›i 500K',
                    'tÃ¬m sá»¯a rá»­a máº·t cho da dáº§u dÆ°á»›i 500k',
                    'mÃ¬nh cáº§n sá»¯a rá»­a máº·t cho da dáº§u giÃ¡ dÆ°á»›i 500k',
                    'gá»£i Ã½ sá»¯a rá»­a máº·t da dáº§u dÆ°á»›i 500 nghÃ¬n',
                    'tÃ¬m serum cho da nháº¡y cáº£m giÃ¡ khoáº£ng 300-500k',
                    'mÃ¬nh muá»‘n tÃ¬m kem chá»‘ng náº¯ng cho da dáº§u dÆ°á»›i 400k',
                    'tÃ¬m sáº£n pháº©m dÆ°á»¡ng áº©m cho da khÃ´ giÃ¡ dÆ°á»›i 600k',
                    'gá»£i Ã½ toner cho da má»¥n dÆ°á»›i 500k',
                    'tÃ¬m sáº£n pháº©m trá»‹ má»¥n cho da dáº§u giÃ¡ dÆ°á»›i 500k',
                    'mÃ¬nh cáº§n serum vitamin c cho da thÆ°á»ng dÆ°á»›i 500k',
                    'tÃ¬m kem máº¯t cho da nháº¡y cáº£m giÃ¡ dÆ°á»›i 300k',
                    'gá»£i Ã½ máº·t náº¡ cho da khÃ´ dÆ°á»›i 200k',
                    'tÃ¬m essence cho da há»—n há»£p giÃ¡ khoáº£ng 400-600k',
                ],
                'priority' => 90,
                'is_active' => true,
                'config' => [
                    'response_template' => "Xin chÃ o! MÃ¬nh hiá»ƒu báº¡n Ä‘ang tÃ¬m sáº£n pháº©m phÃ¹ há»£p.\n\n{if_has_entities}Dá»±a vÃ o thÃ´ng tin báº¡n cung cáº¥p:\n- Loáº¡i da: {skin_types}\n- NgÃ¢n sÃ¡ch: {budget}\n- Váº¥n Ä‘á» da: {concerns}\n{endif}\n\n{if_has_products}MÃ¬nh gá»£i Ã½ cho báº¡n {product_count} sáº£n pháº©m phÃ¹ há»£p:\n{products_list}\n\nBáº¡n muá»‘n xem chi tiáº¿t sáº£n pháº©m nÃ o khÃ´ng? ğŸ˜Š{endif}\n\n{if_no_products_found}Ráº¥t tiáº¿c, mÃ¬nh khÃ´ng tÃ¬m tháº¥y sáº£n pháº©m nÃ o phÃ¹ há»£p vá»›i ngÃ¢n sÃ¡ch {budget} cá»§a báº¡n. ğŸ˜”\n\nBáº¡n cÃ³ thá»ƒ:\n- TÄƒng ngÃ¢n sÃ¡ch lÃªn má»™t chÃºt\n- Hoáº·c cho mÃ¬nh biáº¿t thÃªm vá» loáº¡i da vÃ  váº¥n Ä‘á» da Ä‘á»ƒ mÃ¬nh tÆ° váº¥n sáº£n pháº©m phÃ¹ há»£p hÆ¡n{endif}\n\n{if_no_products}Äá»ƒ mÃ¬nh tÆ° váº¥n chÃ­nh xÃ¡c hÆ¡n, báº¡n cÃ³ thá»ƒ cho mÃ¬nh biáº¿t:\n- Loáº¡i da cá»§a báº¡n (dáº§u, khÃ´, há»—n há»£p, nháº¡y cáº£m)\n- NgÃ¢n sÃ¡ch báº¡n muá»‘n chi (VD: 300-500k)\n- Váº¥n Ä‘á» da báº¡n Ä‘ang gáº·p (má»¥n, thÃ¢m, lá»— chÃ¢n lÃ´ng...){endif}",
                    'tools' => ['searchProducts'],
                    'required_entities' => [],
                    'optional_entities' => ['skin_types', 'budget', 'product_type', 'concerns'],
                    'follow_up_questions' => [
                        'Báº¡n cÃ³ thá»ƒ cho mÃ¬nh biáº¿t loáº¡i da cá»§a báº¡n khÃ´ng?',
                        'NgÃ¢n sÃ¡ch báº¡n muá»‘n chi lÃ  bao nhiÃªu?',
                    ],
                    'confidence_threshold' => 0.7,
                ],
            ],
            [
                'name' => 'shipping_policy',
                'display_name' => 'Há»i vá» phÃ­ ship',
                'description' => 'KhÃ¡ch hÃ ng há»i vá» phÃ­ váº­n chuyá»ƒn',
                'examples' => [
                    'phÃ­ ship bao nhiÃªu',
                    'phÃ­ váº­n chuyá»ƒn',
                    'ship bao nhiÃªu',
                    'giao hÃ ng bao nhiÃªu tiá»n',
                    'miá»…n phÃ­ ship khÃ´ng',
                    'phÃ­ ship',
                    'chi phÃ­ giao hÃ ng',
                    'phÃ­ váº­n chuyá»ƒn bao nhiÃªu',
                    'ship free khÃ´ng',
                    'cÃ³ miá»…n phÃ­ ship khÃ´ng',
                    'phÃ­ ship nhÆ° tháº¿ nÃ o',
                    'giao hÃ ng máº¥t phÃ­ khÃ´ng',
                ],
                'priority' => 85,
                'is_active' => true,
                'config' => [
                    'response_template' => "**PhÃ­ váº­n chuyá»ƒn:**\n\n- Miá»…n phÃ­ ship cho Ä‘Æ¡n tá»« 500.000â‚«\n- PhÃ­ ship 30.000â‚« cho Ä‘Æ¡n dÆ°á»›i 500.000â‚«\n- Giao hÃ ng toÃ n quá»‘c trong 2-5 ngÃ y lÃ m viá»‡c\n\nBáº¡n cÃ³ cÃ¢u há»i gÃ¬ khÃ¡c vá» váº­n chuyá»ƒn khÃ´ng? ğŸ˜Š",
                    'tools' => ['getPolicy'],
                    'required_entities' => [],
                    'optional_entities' => [],
                    'follow_up_questions' => [],
                    'confidence_threshold' => 0.7,
                ],
            ],
            [
                'name' => 'return_policy',
                'display_name' => 'Há»i vá» Ä‘á»•i tráº£',
                'description' => 'KhÃ¡ch hÃ ng há»i vá» chÃ­nh sÃ¡ch Ä‘á»•i tráº£',
                'examples' => [
                    'Ä‘á»•i tráº£ nhÆ° tháº¿ nÃ o',
                    'chÃ­nh sÃ¡ch Ä‘á»•i tráº£',
                    'cÃ³ Ä‘Æ°á»£c Ä‘á»•i khÃ´ng',
                    'Ä‘á»•i hÃ ng',
                    'tráº£ hÃ ng',
                    'hoÃ n tiá»n',
                    'báº£o hÃ nh',
                    'chÃ­nh sÃ¡ch Ä‘á»•i',
                    'chÃ­nh sÃ¡ch tráº£',
                    'Ä‘á»•i tráº£ trong bao lÃ¢u',
                    'cÃ³ Ä‘Æ°á»£c hoÃ n tiá»n khÃ´ng',
                    'Ä‘iá»u kiá»‡n Ä‘á»•i tráº£',
                ],
                'priority' => 85,
                'is_active' => true,
                'config' => [
                    'response_template' => "**ChÃ­nh sÃ¡ch Ä‘á»•i tráº£:**\n\n- Äá»•i tráº£ miá»…n phÃ­ trong vÃ²ng 7 ngÃ y ká»ƒ tá»« ngÃ y nháº­n hÃ ng\n- Sáº£n pháº©m pháº£i cÃ²n nguyÃªn seal, chÆ°a sá»­ dá»¥ng\n- ChÃºng tÃ´i sáº½ hoÃ n tiá»n 100% náº¿u sáº£n pháº©m lá»—i tá»« nhÃ  sáº£n xuáº¥t\n\nBáº¡n cÃ³ cÃ¢u há»i gÃ¬ khÃ¡c vá» Ä‘á»•i tráº£ khÃ´ng? ğŸ˜Š",
                    'tools' => ['getPolicy'],
                    'required_entities' => [],
                    'optional_entities' => [],
                    'follow_up_questions' => [],
                    'confidence_threshold' => 0.7,
                ],
            ],
            [
                'name' => 'payment_policy',
                'display_name' => 'Há»i vá» thanh toÃ¡n',
                'description' => 'KhÃ¡ch hÃ ng há»i vá» phÆ°Æ¡ng thá»©c thanh toÃ¡n',
                'examples' => [
                    'thanh toÃ¡n nhÆ° tháº¿ nÃ o',
                    'cÃ³ thá»ƒ thanh toÃ¡n báº±ng gÃ¬',
                    'cod',
                    'chuyá»ƒn khoáº£n',
                    'vÃ­ Ä‘iá»‡n tá»­',
                    'momo',
                    'zalopay',
                    'phÆ°Æ¡ng thá»©c thanh toÃ¡n',
                    'cÃ¡ch thanh toÃ¡n',
                    'thanh toÃ¡n online',
                    'thanh toÃ¡n khi nháº­n hÃ ng',
                ],
                'priority' => 85,
                'is_active' => true,
                'config' => [
                    'response_template' => "**PhÆ°Æ¡ng thá»©c thanh toÃ¡n:**\n\n- Thanh toÃ¡n khi nháº­n hÃ ng (COD)\n- Chuyá»ƒn khoáº£n ngÃ¢n hÃ ng\n- VÃ­ Ä‘iá»‡n tá»­ (MoMo, ZaloPay)\n- Tháº» tÃ­n dá»¥ng/ghi ná»£\n\nTáº¥t cáº£ giao dá»‹ch Ä‘á»u Ä‘Æ°á»£c báº£o máº­t an toÃ n!\n\nBáº¡n cÃ³ cÃ¢u há»i gÃ¬ khÃ¡c vá» thanh toÃ¡n khÃ´ng? ğŸ˜Š",
                    'tools' => ['getPolicy'],
                    'required_entities' => [],
                    'optional_entities' => [],
                    'follow_up_questions' => [],
                    'confidence_threshold' => 0.7,
                ],
            ],
            [
                'name' => 'order_tracking',
                'display_name' => 'Tra cá»©u Ä‘Æ¡n hÃ ng',
                'description' => 'KhÃ¡ch hÃ ng muá»‘n tra cá»©u Ä‘Æ¡n hÃ ng',
                'examples' => [
                    'tra cá»©u Ä‘Æ¡n hÃ ng',
                    'mÃ£ Ä‘Æ¡n hÃ ng',
                    'Ä‘Æ¡n hÃ ng cá»§a tÃ´i',
                    'kiá»ƒm tra Ä‘Æ¡n hÃ ng',
                    'Ä‘Æ¡n hÃ ng',
                    'order',
                    'tracking',
                    'mÃ£ Ä‘Æ¡n',
                    'tÃ¬nh tráº¡ng Ä‘Æ¡n hÃ ng',
                    'Ä‘Æ¡n hÃ ng Ä‘áº¿n Ä‘Ã¢u rá»“i',
                ],
                'priority' => 80,
                'is_active' => true,
                'config' => [
                    'response_template' => "Äá»ƒ tra cá»©u Ä‘Æ¡n hÃ ng, báº¡n cÃ³ thá»ƒ:\n\n1. Nháº­p mÃ£ Ä‘Æ¡n hÃ ng vÃ o Ã´ tÃ¬m kiáº¿m\n2. Hoáº·c cung cáº¥p sá»‘ Ä‘iá»‡n thoáº¡i Ä‘Ã£ Ä‘áº·t hÃ ng\n\nBáº¡n cÃ³ mÃ£ Ä‘Æ¡n hÃ ng hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng? MÃ¬nh sáº½ giÃºp báº¡n tra cá»©u ngay! ğŸ˜Š",
                    'tools' => ['getOrderStatus'],
                    'required_entities' => [],
                    'optional_entities' => [],
                    'follow_up_questions' => [
                        'Báº¡n cÃ³ mÃ£ Ä‘Æ¡n hÃ ng khÃ´ng?',
                        'Báº¡n cÃ³ thá»ƒ cung cáº¥p sá»‘ Ä‘iá»‡n thoáº¡i Ä‘Ã£ Ä‘áº·t hÃ ng khÃ´ng?',
                    ],
                    'confidence_threshold' => 0.7,
                ],
            ],
            [
                'name' => 'product_info',
                'display_name' => 'ThÃ´ng tin sáº£n pháº©m',
                'description' => 'KhÃ¡ch hÃ ng há»i vá» thÃ´ng tin sáº£n pháº©m cá»¥ thá»ƒ',
                'examples' => [
                    'thÃ´ng tin sáº£n pháº©m',
                    'sáº£n pháº©m nÃ y nhÆ° tháº¿ nÃ o',
                    'chi tiáº¿t sáº£n pháº©m',
                    'review sáº£n pháº©m',
                    'Ä‘Ã¡nh giÃ¡ sáº£n pháº©m',
                    'sáº£n pháº©m cÃ³ tá»‘t khÃ´ng',
                    'thÃ nh pháº§n',
                    'cÃ´ng dá»¥ng',
                    'cÃ¡ch dÃ¹ng',
                    'phÃ¹ há»£p vá»›i loáº¡i da nÃ o',
                ],
                'priority' => 75,
                'is_active' => true,
                'config' => [
                    'response_template' => "MÃ¬nh sáº½ cung cáº¥p thÃ´ng tin chi tiáº¿t vá» sáº£n pháº©m cho báº¡n!\n\n{if_has_products}{products_list}\n\nBáº¡n muá»‘n biáº¿t thÃªm thÃ´ng tin gÃ¬ vá» sáº£n pháº©m nÃ y khÃ´ng? ğŸ˜Š{endif}\n\n{if_no_products}Báº¡n muá»‘n tÃ¬m hiá»ƒu vá» sáº£n pháº©m nÃ o? HÃ£y cho mÃ¬nh biáº¿t tÃªn sáº£n pháº©m nhÃ©!{endif}",
                    'tools' => ['getProductInfo'],
                    'required_entities' => [],
                    'optional_entities' => [],
                    'follow_up_questions' => [],
                    'confidence_threshold' => 0.7,
                ],
            ],
            [
                'name' => 'price_inquiry',
                'display_name' => 'Há»i vá» giÃ¡',
                'description' => 'KhÃ¡ch hÃ ng há»i vá» giÃ¡ sáº£n pháº©m',
                'examples' => [
                    'giÃ¡ bao nhiÃªu',
                    'bao nhiÃªu tiá»n',
                    'giÃ¡',
                    'cost',
                    'price',
                    'giÃ¡ sáº£n pháº©m',
                    'sáº£n pháº©m nÃ y giÃ¡ bao nhiÃªu',
                    'cÃ³ giáº£m giÃ¡ khÃ´ng',
                    'khuyáº¿n mÃ£i',
                    'sale',
                ],
                'priority' => 70,
                'is_active' => true,
                'config' => [
                    'response_template' => "MÃ¬nh sáº½ kiá»ƒm tra giÃ¡ sáº£n pháº©m cho báº¡n!\n\n{if_has_products}{products_list}\n\nBáº¡n cÃ³ muá»‘n Ä‘áº·t hÃ ng sáº£n pháº©m nÃ y khÃ´ng? ğŸ˜Š{endif}\n\n{if_no_products}Báº¡n muá»‘n biáº¿t giÃ¡ cá»§a sáº£n pháº©m nÃ o? HÃ£y cho mÃ¬nh biáº¿t tÃªn sáº£n pháº©m nhÃ©!{endif}",
                    'tools' => ['getProductInfo', 'searchProducts'],
                    'required_entities' => [],
                    'optional_entities' => [],
                    'follow_up_questions' => [],
                    'confidence_threshold' => 0.7,
                ],
            ],
        ];

        foreach ($intents as $intentData) {
            BotIntent::updateOrCreate(
                ['name' => $intentData['name']],
                $intentData
            );
        }

        $this->command->info('âœ… ÄÃ£ seed ' . count($intents) . ' intents vá»›i examples vÃ  response templates Ä‘áº§y Ä‘á»§!');
    }
}

